<!--
Meta Description: # استخدام "sealed" في كوتلن: كل ما تحتاج معرفته ## ملخص تُستخدم الكلمة المفتاحية "sealed" في لغة كوتلن لتعريف الفئات المغلقة، مما يسمح بإنشاء هيكل هرم...
Meta Keywords: الفئات, shape, sealed, المغلقة, class
-->

# استخدام "sealed" في كوتلن: كل ما تحتاج معرفته

## ملخص
تُستخدم الكلمة المفتاحية "sealed" في لغة كوتلن لتعريف الفئات المغلقة، مما يسمح بإنشاء هيكل هرمي للفئات مع تحكم كامل في الوراثة، مما يعزز من أمان الكود ويقلل من الأخطاء.

## الوثائق
تعتبر "sealed" واحدة من الخصائص القوية في كوتلن، حيث تُستخدم لتحديد فئة غير مسموح بإنشاء فئات فرعية لها من خارج الملف الذي تم تعريفها فيه. يُستخدم هذا النوع من الفئات عندما تحتاج إلى تحديد مجموعة محددة من القيم الممكنة أو الأنواع، مثل ما يحدث في الأنظمة المعقدة أو عند التعامل مع البيانات المتنوعة.

### الغرض
- **تحسين الأمان**: يضمن أن جميع الفئات الفرعية معروفة ومحددة.
- **تسهيل الصيانة**: يقلل من التعقيد ويجعل قراءة الكود أسهل.
- **التعامل مع حالات متعددة**: يُستخدم بشكل شائع مع العبارات when.

### الاستخدام
لتعريف فئة مغلقة، يجب استخدام الكلمة المفتاحية "sealed" قبل تعريف الفئة. يمكن أن تحتوي الفئة المغلقة على فئات فرعية محددة، ولا يمكن أن تحتوي على فئات فرعية أخرى خارج الملف.

```kotlin
sealed class Result

data class Success(val data: String) : Result()
data class Failure(val error: String) : Result()
```

## الأمثلة
### مثال 1: تعريف فئة مغلقة بسيطة
```kotlin
sealed class Shape {
    data class Circle(val radius: Double) : Shape()
    data class Rectangle(val width: Double, val height: Double) : Shape()
}
```

### مثال 2: استخدام الفئات المغلقة في when
```kotlin
fun describeShape(shape: Shape): String {
    return when(shape) {
        is Shape.Circle -> "دائرة بنصف قطر ${shape.radius}"
        is Shape.Rectangle -> "مستطيل بعرض ${shape.width} وارتفاع ${shape.height}"
    }
}
```

## الشرح
### الأخطاء الشائعة
1. **عدم تعريف الفئات الفرعية في نفس الملف**: يجب أن تكون جميع الفئات الفرعية معرفة في نفس الملف، وإلا ستحصل على خطأ في الترجمة.
2. **عدم استخدام when بدون else**: عند استخدام الفئات المغلقة مع تعبير when، يُفضل عدم إضافة حالة else، حيث إن جميع الفئات الفرعية معروفة.

### ملاحظات إضافية
- يمكن أن تحتوي الفئات المغلقة على خصائص، دوال، ومحددات كما هو الحال مع الفئات العادية.
- تُعتبر الفئات المغلقة مثالية لنماذج البيانات (Data Models) التي تمثل حالات مختلفة.

## ملخص من سطر واحد
تتيح الكلمة المفتاحية "sealed" في كوتلن إنشاء فئات مغلقة ذات تحكم كامل في الوراثة، مما يعزز الأمان ويسهل الصيانة.