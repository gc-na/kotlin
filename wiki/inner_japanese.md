<!--
Meta Description: # Kotlinにおける「inner」クラスの徹底ガイド ## 概要 Kotlinの「inner」クラスは、外部クラスのインスタンスにアクセスできる内部クラスを定義するための機能です。この機能により、外部クラスのプロパティやメソッドを直接利用することができます。 ## ドキュメンテーション Kotl...
Meta Keywords: inner, outer, class, クラスは, fun
-->

# Kotlinにおける「inner」クラスの徹底ガイド

## 概要
Kotlinの「inner」クラスは、外部クラスのインスタンスにアクセスできる内部クラスを定義するための機能です。この機能により、外部クラスのプロパティやメソッドを直接利用することができます。

## ドキュメンテーション
Kotlinでは、クラスの中に別のクラスを定義することができます。この場合、内側のクラスを「inner」クラスとして宣言することができます。通常の内部クラスは、外部クラスのインスタンスに関連付けられていませんが、「inner」クラスは外部クラスのインスタンスにアクセスすることが可能です。

### 目的
「inner」クラスの主な目的は、外部クラスのインスタンスに依存するクラスを作成することです。これにより、外部クラスの状態や振る舞いを内側のクラスから直接利用できるようになります。

### 使用法
「inner」クラスは、外部クラスの定義内で「inner」キーワードを使って宣言します。以下はその基本的な構文です。

```kotlin
class Outer {
    inner class Inner {
        fun display() {
            println("外部クラスのプロパティ: ${this@Outer.property}")
        }
    }
}
```

## 例
以下に「inner」クラスの基本的な使用例を示します。

```kotlin
class Outer(val outerProperty: String) {
    inner class Inner {
        fun innerFunction() {
            println("外部クラスのプロパティ: $outerProperty")
        }
    }
}

fun main() {
    val outer = Outer("Hello from Outer")
    val inner = outer.Inner()
    inner.innerFunction()  // 出力: 外部クラスのプロパティ: Hello from Outer
}
```

## 説明
「inner」クラスを使用する際の注意点や一般的な落とし穴について解説します。

- **メモリ管理**: 「inner」クラスは外部クラスのインスタンスに依存するため、外部クラスがガーベジコレクションされない限り、内側のクラスもメモリに残り続けます。これにより、メモリリークのリスクが高まることがあります。
  
- **静的メンバーのアクセス**: 「inner」クラスからは、外部クラスの静的（companionオブジェクト）メンバーにはアクセスできません。これは、内側のクラスが外部クラスのインスタンスに依存しているためです。

- **適切な設計**: 内部クラスを使用する場合は、設計が適切であることを確認することが重要です。過度に内部クラスを使用すると、コードの可読性が低下する可能性があります。

## 一文の要約
Kotlinの「inner」クラスは、外部クラスのインスタンスにアクセス可能な内部クラスを定義するための強力な機能です。