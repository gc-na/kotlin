<!--
Meta Description: # Kotlin 中的 init 關鍵字：初始化區塊的詳細指南 ## 概述 在 Kotlin 中，`init` 是一個特殊的初始化區塊，用於類別的構造函數中。它使得開發者能夠在創建物件時執行初始化邏輯，確保物件的狀態在使用之前已經正確設置。 ## 文件說明 `init` 區塊是類別的一部分，當類別的...
Meta Keywords: init, person, kotlin, val, name
-->

# Kotlin 中的 init 關鍵字：初始化區塊的詳細指南

## 概述
在 Kotlin 中，`init` 是一個特殊的初始化區塊，用於類別的構造函數中。它使得開發者能夠在創建物件時執行初始化邏輯，確保物件的狀態在使用之前已經正確設置。

## 文件說明
`init` 區塊是類別的一部分，當類別的構造函數被調用時自動執行。每當創建類別的實例時，`init` 區塊中的代碼將被執行，這使得它成為設置屬性和執行任何必要的初始化步驟的理想位置。

### 目的
`init` 的主要目的是確保在物件實例化時執行必要的初始化邏輯，以便物件進入有效狀態。

### 使用方式
在類別的定義中，可以使用一個或多個 `init` 區塊。這些區塊的代碼在構造函數執行後立即運行。這對於需要進行複雜初始化的類別特別有用。

## 範例
以下是使用 `init` 區塊的基本範例：

```kotlin
class Person(val name: String, val age: Int) {
    init {
        println("建立一個新的 Person: 姓名 = $name, 年齡 = $age")
    }
}

fun main() {
    val person = Person("小明", 25)
}
```

在這個例子中，當 `Person` 類別的實例被創建時，`init` 區塊將自動執行並輸出該人的姓名和年齡。

## 解釋
在使用 `init` 區塊時，有幾個常見的陷阱和注意事項：

1. **多個 init 區塊**：可以在類中定義多個 `init` 區塊，它們將按照定義的順序執行。
2. **屬性初始化順序**：`init` 區塊中的代碼可以訪問類別的屬性，但這些屬性必須在 `init` 區塊之前進行初始化。
3. **不可變屬性**：若使用 `val` 定義屬性，必須在 constructor 中初始化，否則會導致編譯錯誤。

## 總結
`init` 區塊提供了一種方便的方法來初始化 Kotlin 類別的屬性和狀態，確保物件在使用前已正確設置。